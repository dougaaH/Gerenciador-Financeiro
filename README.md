# Gerenciador Financeiro Desktop



Um aplicativo de desktop para gerenciamento de finan√ßas pessoais, constru√≠do com Electron, JavaScript puro e Supabase. Ele permite que os usu√°rios controlem suas receitas e despesas de forma simples e visual.

## ‚ú® Funcionalidades Principais

- **Autentica√ß√£o de Usu√°rio:** Sistema seguro de Login e Cadastro utilizando Supabase Auth.
- **CRUD de Transa√ß√µes:** Crie, leia, atualize e delete transa√ß√µes financeiras (receitas e despesas).
- **Dashboard Interativo:**
  - Saldo total em destaque.
  - Gr√°fico de rosca para visualizar despesas por categoria.
  - Gr√°fico de barras comparando receitas e despesas mensais.
  - Gr√°fico de linha mostrando a evolu√ß√£o do saldo acumulado ao longo do tempo.
- **Visualiza√ß√£o Completa:** Uma tela dedicada para listar, pesquisar e gerenciar todas as transa√ß√µes.
- **Relat√≥rios Mensais:** Gera√ß√£o de relat√≥rios agregados por m√™s, com filtros por per√≠odo.
- **Exporta√ß√£o para Excel:** Exporte seus relat√≥rios mensais para um arquivo `.xlsx` com formata√ß√£o profissional.
- **Comunica√ß√£o Segura:** Uso do `contextBridge` do Electron para garantir uma comunica√ß√£o segura entre o frontend (Renderer) e o backend (Main Process).

---

## üöÄ Tecnologias Utilizadas

- **Framework:** Electron.js
- **Frontend:** HTML5, CSS3, JavaScript (ES6+)
- **Backend & Banco de Dados:** Supabase (PostgreSQL, Auth, Storage)
- **Visualiza√ß√£o de Dados:** Chart.js
- **Exporta√ß√£o para Excel:** ExcelJS
- **Vari√°veis de Ambiente:** dotenv

---

## üìÇ Estrutura do Projeto

```
gerenciador-financeiro/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ assets/             # √çcones, CSS e outros arquivos est√°ticos
‚îÇ   ‚îú‚îÄ‚îÄ database/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ connect.js      # Configura√ß√£o da conex√£o com o Supabase
‚îÇ   ‚îú‚îÄ‚îÄ renderer/           # L√≥gica do lado do cliente (Renderer Process)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ index.js        # L√≥gica do dashboard principal
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ login.js        # L√≥gica da tela de login
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ register.js     # L√≥gica da tela de cadastro
‚îÇ   ‚îú‚îÄ‚îÄ views/              # Arquivos HTML das telas
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ index.html
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ login.html
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ register.html
‚îÇ   ‚îî‚îÄ‚îÄ preload.js          # Script que exp√µe APIs do Main para o Renderer
‚îú‚îÄ‚îÄ .env.example            # Exemplo de arquivo de vari√°veis de ambiente
‚îú‚îÄ‚îÄ main.js                 # Ponto de entrada da aplica√ß√£o (Main Process)
‚îú‚îÄ‚îÄ package.json
‚îî‚îÄ‚îÄ README.md
```

---

## ‚öôÔ∏è Configura√ß√£o e Instala√ß√£o

Siga os passos abaixo para configurar e executar o projeto em seu ambiente local.

### Pr√©-requisitos

- Node.js (vers√£o 16 ou superior)
- npm (geralmente instalado com o Node.js)

### 1. Configura√ß√£o do Supabase

1.  **Crie um Projeto:** V√° para supabase.com, crie uma conta e inicie um novo projeto.
2.  **Crie a Tabela `transactions`:**
    - No painel do seu projeto, v√° para `SQL Editor`.
    - Clique em `+ New query` e cole o script SQL abaixo para criar a tabela de transa√ß√µes.

    ```sql
    -- Cria a tabela de transa√ß√µes
    CREATE TABLE public.transactions (
      id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
      user_id UUID REFERENCES auth.users(id) ON DELETE CASCADE NOT NULL,
      created_at TIMESTAMPTZ DEFAULT NOW() NOT NULL,
      description TEXT NOT NULL,
      amount NUMERIC(10, 2) NOT NULL,
      type TEXT NOT NULL, -- 'receita' ou 'despesa'
      category TEXT NOT NULL,
      date DATE NOT NULL
    );

    -- Habilita a Seguran√ßa em N√≠vel de Linha (RLS)
    ALTER TABLE public.transactions ENABLE ROW LEVEL SECURITY;

    -- Cria pol√≠ticas de RLS para garantir que os usu√°rios s√≥ acessem seus pr√≥prios dados
    CREATE POLICY "Usu√°rios podem ver suas pr√≥prias transa√ß√µes"
    ON public.transactions FOR SELECT
    USING (auth.uid() = user_id);

    CREATE POLICY "Usu√°rios podem inserir suas pr√≥prias transa√ß√µes"
    ON public.transactions FOR INSERT
    WITH CHECK (auth.uid() = user_id);

    CREATE POLICY "Usu√°rios podem atualizar suas pr√≥prias transa√ß√µes"
    ON public.transactions FOR UPDATE
    USING (auth.uid() = user_id);

    CREATE POLICY "Usu√°rios podem deletar suas pr√≥prias transa√ß√µes"
    ON public.transactions FOR DELETE
    USING (auth.uid() = user_id);
    ```

3.  **Obtenha as Chaves da API:**
    - No painel do Supabase, v√° para `Project Settings` > `API`.
    - Copie o `Project URL` e a chave `anon` `public`.

### 2. Configura√ß√£o Local

1.  **Clone o Reposit√≥rio:**
    ```bash
    git clone https://github.com/seu-usuario/gerenciador-financeiro.git
    cd gerenciador-financeiro
    ```

2.  **Instale as Depend√™ncias:**
    ```bash
    npm install
    ```

3.  **Crie o Arquivo de Ambiente:**
    - Crie um arquivo chamado `.env` na raiz do projeto.
    - Adicione as chaves do Supabase que voc√™ copiou:

    ```env
    SUPABASE_URL=SUA_URL_DO_PROJETO_SUPABASE
    SUPABASE_KEY=SUA_CHAVE_ANON_PUBLICA_SUPABASE
    ```

### 3. Execute a Aplica√ß√£o

Para iniciar o aplicativo em modo de desenvolvimento, execute:

```bash
npm start
```

---

## üèõÔ∏è Arquitetura (Como Funciona)

A aplica√ß√£o segue o modelo de m√∫ltiplos processos do Electron:

1.  **Main Process (`main.js`):**
    - √â o "backend" da aplica√ß√£o. Ele tem acesso total √†s APIs do Node.js e do sistema operacional.
    - Respons√°vel por criar e gerenciar as janelas (`BrowserWindow`).
    - Ouve eventos de comunica√ß√£o interprocessos (IPC) vindos do Renderer.
    - Interage diretamente com o Supabase para realizar opera√ß√µes de autentica√ß√£o e banco de dados.

2.  **Renderer Process (`src/views/*.html` e `src/renderer/*.js`):**
    - √â o "frontend" da aplica√ß√£o, respons√°vel por renderizar a interface do usu√°rio.
    - Executa em um ambiente de navegador (Chromium) e, por seguran√ßa, **n√£o** tem acesso direto √†s APIs do Node.js.
    - Toda a l√≥gica de manipula√ß√£o do DOM, eventos de clique e renderiza√ß√£o de dados acontece aqui.

3.  **Preload Script (`src/preload.js`):**
    - √â a ponte segura entre o Main Process e o Renderer Process.
    - Ele usa a API `contextBridge` do Electron para expor fun√ß√µes controladas ao Renderer atrav√©s do objeto `window.api`.
    - Quando uma fun√ß√£o como `window.api.login()` √© chamada no Renderer, o Preload Script envia uma mensagem IPC (`ipcRenderer.invoke`) para o Main Process. O Main Process executa a tarefa e retorna o resultado, completando o ciclo de comunica√ß√£o de forma segura.



---

## ü§ù Contribui√ß√£o

Contribui√ß√µes s√£o bem-vindas! Sinta-se √† vontade para abrir uma *issue* para relatar bugs ou sugerir novas funcionalidades. Se desejar contribuir com c√≥digo, por favor, abra um *Pull Request*.

## üìÑ Licen√ßa

Este projeto √© distribu√≠do sob a licen√ßa MIT. Veja o arquivo `LICENSE` para mais detalhes.
